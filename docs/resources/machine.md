---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "fly_machine Resource - terraform-provider-fly"
subcategory: ""
description: |-
  Fly machine resource
---

# fly_machine (Resource)

Fly machine resource

## Example Usage

```terraform
resource "fly_machine" "exampleMachine" {
  app    = "hellofromterraform"
  region = "iad"
  name   = "extremelyuniquenamelikesoveryunique8"
  image  = "nginx"
  env = {
    key = "value"
  }
  services = [
    {
      ports = [
        {
          port     = 443
          handlers = ["tls", "http"]
        },
        {
          port     = 80
          handlers = ["http"]
        }
      ]
      "protocol" : "tcp",
      "internal_port" : 80
    },
    {
      ports = [
        {
          port     = 8080
          handlers = ["tls", "http"]
        },
        {
          port     = 8081
          handlers = ["http"]
        }
      ]
      "protocol" : "tcp",
      "internal_port" : 8089
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `app` (String) fly app
- `image` (String) docker image
- `region` (String) machine region
- `services` (Attributes List) services (see [below for nested schema](#nestedatt--services))

### Optional

- `cpus` (Number) cpu count
- `cputype` (String) cpu type
- `env` (Map of String) Optional environment variables, keys and values must be strings
- `memorymb` (Number) memory mb
- `mounts` (Attributes List) Volume mounts (see [below for nested schema](#nestedatt--mounts))
- `name` (String) machine name

### Read-Only

- `id` (String) machine id

<a id="nestedatt--services"></a>
### Nested Schema for `services`

Required:

- `internal_port` (Number) Port application listens on internally
- `ports` (Attributes List) External ports and handlers (see [below for nested schema](#nestedatt--services--ports))
- `protocol` (String) network protocol

<a id="nestedatt--services--ports"></a>
### Nested Schema for `services.ports`

Required:

- `handlers` (List of String) How the edge should process requests
- `port` (Number) External port



<a id="nestedatt--mounts"></a>
### Nested Schema for `mounts`

Optional:

- `encrypted` (Boolean)
- `path` (String) Path for volume to be mounted on vm
- `size_gb` (Number)
- `volume` (String) Name or ID of volume


